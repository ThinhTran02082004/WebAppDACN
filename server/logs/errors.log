[2025-04-13T07:41:39.277Z] [ERROR] POST /api/users/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-13T07:44:15.959Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Chỉ chấp nhận ảnh JPEG, JPG, PNG hoặc GIF.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-13T07:45:09.478Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Chỉ chấp nhận ảnh JPEG, JPG, PNG hoặc GIF.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-13T07:46:11.872Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Chỉ chấp nhận ảnh JPEG, JPG, PNG hoặc GIF.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-13T12:48:50.784Z] [ERROR] POST /api/auth/login SyntaxError: Bad control character in string literal in JSON at position 68 (line 3 column 22)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-13T13:51:11.054Z] [ERROR] POST /api/appointments SyntaxError: Expected double-quoted property name in JSON at position 212 (line 10 column 1)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-13T13:51:21.260Z] [ERROR] POST /api/appointments SyntaxError: Expected double-quoted property name in JSON at position 246 (line 10 column 1)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-13T16:10:51.162Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:12:08.805Z] [ERROR] DELETE /api/appointments/67fbdf54da18f9e68867833a Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:12:24.653Z] [ERROR] DELETE /api/appointments/67fbe1ab3e6809c33731ad45 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:14:25.086Z] [ERROR] DELETE /api/appointments/67fbe1ab3e6809c33731ad45 Error: Không thể hủy lịch hẹn trước 24 giờ
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:340:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:15:53.447Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không thể hủy lịch hẹn trước 24 giờ
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:340:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:15:55.631Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không thể hủy lịch hẹn trước 24 giờ
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:340:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:21:49.224Z] [ERROR] DELETE /api/appointments/67fbe1ab3e6809c33731ad45 Error: Không thể hủy lịch hẹn trước 24 giờ
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:340:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:29:51.784Z] [ERROR] DELETE /api/appointments/67fbdf54da18f9e68867833a Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:21.039Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:23.066Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:24.054Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:25.000Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:25.883Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:30:26.926Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:31:30.237Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-13T16:31:31.911Z] [ERROR] DELETE /api/appointments/67fbd164ecf5848a3d8fa111 Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb - Copy\server\controllers\appointmentController.js:331:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-15T08:07:35.951Z] [ERROR] GET /api/admin/services/67fe12f25a13f6b86e7d5387 SyntaxError: Unexpected end of JSON input
    at JSON.parse (<anonymous>)
    at createStrictSyntaxError (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:169:10)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:86:15)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
[2025-04-15T08:07:44.239Z] [ERROR] GET /api/admin/services/67fe12f25a13f6b86e7d5387 SyntaxError: Unexpected end of JSON input
    at JSON.parse (<anonymous>)
    at createStrictSyntaxError (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:169:10)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:86:15)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
[2025-04-15T08:08:02.397Z] [ERROR] GET /api/admin/services/67fe12f25a13f6b86e7d5387 SyntaxError: Unexpected end of JSON input
    at JSON.parse (<anonymous>)
    at createStrictSyntaxError (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:169:10)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:86:15)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
[2025-04-16T10:19:43.379Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Chỉ chấp nhận ảnh JPEG, JPG, PNG hoặc GIF.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-16T10:22:32.958Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Hệ thống chấp nhận hầu hết các định dạng ảnh phổ biến như JPEG, PNG, GIF, WEBP, SVG, BMP, TIFF và các định dạng chuyên dụng khác.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-16T10:52:42.527Z] [ERROR] POST /api/users/avatar Error: ENOENT: no such file or directory, open 'C:\DACS-hospitalweb - Copy\server\uploads\avatar-1744800762524-610156362.png'
[2025-04-16T11:06:11.889Z] [ERROR] POST /api/users/avatar Error: Định dạng file không được hỗ trợ. Hệ thống chấp nhận hầu hết các định dạng ảnh phổ biến như JPEG, PNG, GIF, WEBP, SVG, BMP, TIFF và các định dạng chuyên dụng khác.
    at fileFilter (C:\DACS-hospitalweb - Copy\server\middlewares\uploadMiddleware.js:56:6)
    at wrappedFileFilter (C:\DACS-hospitalweb - Copy\server\node_modules\multer\index.js:44:7)
    at Multipart.<anonymous> (C:\DACS-hospitalweb - Copy\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb - Copy\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb - Copy\server\node_modules\busboy\lib\types\multipart.js:567:19)
[2025-04-17T09:11:20.704Z] [ERROR] POST /api/admin/hospitals SyntaxError: Expected double-quoted property name in JSON at position 172 (line 7 column 3)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb - Copy\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb - Copy\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-18T08:47:30.484Z] [ERROR] POST /api/users/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-19T08:55:39.081Z] [ERROR] POST /api/admin/coupons Error: Không tìm thấy dịch vụ với ID 660b2a9fd6a7dcfa6fa098ab
    at C:\DACS-hospitalweb\server\controllers\couponController.js:90:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T08:56:42.321Z] [ERROR] POST /api/admin/coupons Error: Không tìm thấy chuyên khoa với ID 67fdfa2f86607552b035b291
    at C:\DACS-hospitalweb\server\controllers\couponController.js:104:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T08:59:32.297Z] [ERROR] POST /api/admin/coupons Error: Mã giảm giá này đã tồn tại
    at C:\DACS-hospitalweb\server\controllers\couponController.js:51:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:02:09.539Z] [ERROR] POST /api/admin/coupons SyntaxError: Expected double-quoted property name in JSON at position 436 (line 15 column 1)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-19T09:19:43.804Z] [ERROR] GET /api/admin/coupons/6803669d190bb41af3266829k Error: ID mã giảm giá không hợp lệ
    at C:\DACS-hospitalweb\server\controllers\couponController.js:383:17
    at C:\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-19T09:20:32.639Z] [ERROR] PUT /api/admin/coupons/6803669d190bb41af3266829 Error: Mã giảm giá phải từ 3-15 ký tự và chỉ bao gồm chữ hoa và số
    at C:\DACS-hospitalweb\server\controllers\couponController.js:163:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:20:43.231Z] [ERROR] PUT /api/admin/coupons/6803669d190bb41af3266829 Error: ID chuyên khoa không hợp lệ
    at C:\DACS-hospitalweb\server\controllers\couponController.js:212:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:20:50.337Z] [ERROR] PUT /api/admin/coupons/6803669d190bb41af3266829 Error: ID chuyên khoa không hợp lệ
    at C:\DACS-hospitalweb\server\controllers\couponController.js:212:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:20:55.378Z] [ERROR] PUT /api/admin/coupons/6803669d190bb41af3266829 Error: ID dịch vụ không hợp lệ
    at C:\DACS-hospitalweb\server\controllers\couponController.js:198:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:22:05.793Z] [ERROR] DELETE /api/admin/coupons/6803669d190bb41af3266829 TypeError: coupon.remove is not a function
    at C:\DACS-hospitalweb\server\controllers\couponController.js:273:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T09:24:48.458Z] [ERROR] DELETE /api/admin/coupons/6803669d190bb41af3266829 TypeError: coupon.remove is not a function
    at C:\DACS-hospitalweb\server\controllers\couponController.js:273:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-19T11:12:53.362Z] [ERROR] POST /api/appointments SyntaxError: Expected double-quoted property name in JSON at position 699 (line 25 column 1)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-20T16:42:05.685Z] [ERROR] POST /api/appointments SyntaxError: Expected double-quoted property name in JSON at position 526 (line 19 column 1)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-20T16:55:26.210Z] [ERROR] DELETE /api/appointments/6800dbc93c822cfc843a599f Error: Không tìm thấy lịch hẹn hoặc bạn không có quyền hủy
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:635:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-21T17:10:53.444Z] [ERROR] POST /api/chat/conversations SyntaxError: Expected double-quoted property name in JSON at position 52 (line 3 column 2)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-04-22T18:50:00.140Z] [ERROR] POST /api/medical-records SyntaxError: Unexpected token '"', ""prescript"... is not valid JSON
    at JSON.parse (<anonymous>)
    at createStrictSyntaxError (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:169:10)
    at parse (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:86:15)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)
    at invokeCallback (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
[2025-04-24T08:01:41.847Z] [ERROR] POST /api/doctors/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-24T08:57:50.899Z] [ERROR] POST /api/admin/hospitals/67fdfa2f86607552b035b29f/image MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-24T08:58:04.687Z] [ERROR] POST /api/admin/hospitals/67fdfa2f86607552b035b29f/image MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-24T09:19:06.404Z] [ERROR] GET /api/admin/coupons/6803669d190bb41af3266829 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-04-24T09:19:31.611Z] [ERROR] GET /api/admin/coupons/6803669d190bb41af3266829 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-04-24T09:20:11.563Z] [ERROR] PUT /api/admin/coupons/6803669d190bb41af3266829 Error: Mã giảm giá phải từ 3-15 ký tự và chỉ bao gồm chữ hoa và số
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:163:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-24T09:20:34.990Z] [ERROR] POST /api/admin/coupons Error: Không tìm thấy dịch vụ với ID 660b2a9fd6a7dcfa6fa098ab
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:90:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-24T09:21:22.770Z] [ERROR] POST /api/admin/coupons Error: Không tìm thấy chuyên khoa với ID 660b2abfd6a7dcfa6fa098d3
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:104:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-24T09:44:44.586Z] [ERROR] DELETE /api/admin/hospitals/reviews/67fdfa2f86607552b035b29f Error: Không tìm thấy đánh giá
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\hospitalReviewController.js:235:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-25T07:56:10.143Z] [ERROR] GET /api/statistics/users TypeError: Cannot read properties of undefined (reading 'roleType')
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\statisticsController.js:103:16
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-25T07:56:32.407Z] [ERROR] GET /api/statistics/users TypeError: Cannot read properties of undefined (reading 'roleType')
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\statisticsController.js:103:16
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-25T07:57:02.444Z] [ERROR] GET /api/statistics/users TypeError: Cannot read properties of undefined (reading 'roleType')
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\statisticsController.js:103:16
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-25T07:57:04.037Z] [ERROR] GET /api/statistics/users TypeError: Cannot read properties of undefined (reading 'roleType')
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\statisticsController.js:103:16
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-25T07:57:05.412Z] [ERROR] GET /api/statistics/users TypeError: Cannot read properties of undefined (reading 'roleType')
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\controllers\statisticsController.js:103:16
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-25T08:38:23.481Z] [ERROR] POST /api/admin/doctors/680b201f78b7aadb0a7af5f2/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-25T08:38:34.844Z] [ERROR] POST /api/admin/doctors/680b201f78b7aadb0a7af5ed/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:248:10)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-25T08:40:42.107Z] [ERROR] POST /api/admin/doctors/680b201f78b7aadb0a7af5ed/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-25T08:44:55.270Z] [ERROR] POST /api/admin/doctors/680b201f78b7aadb0a7af5ed/avatar MulterError: Unexpected field
    at wrappedFileFilter (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\index.js:40:19)
    at Multipart.<anonymous> (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:109:7)
    at Multipart.emit (node:events:518:28)
    at HeaderParser.cb (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:358:14)
    at HeaderParser.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:162:20)
    at SBMH.ssCb [as _cb] (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:394:37)
    at feed (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:200:10)
    at SBMH.push (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
[2025-04-27T16:36:34.971Z] [ERROR] GET /api/coupons/validate?code=%2F%2F+Validate+coupon+route+-+accessible+by+all+authenticated+users&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Vui lòng cung cấp mã giảm giá
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:424:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-27T16:36:45.398Z] [ERROR] GET /api/coupons/validate?code=HEALTH100K&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Vui lòng cung cấp mã giảm giá
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:424:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-27T16:36:57.982Z] [ERROR] GET /api/coupons/validate?code=HEALTH100K&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Vui lòng cung cấp mã giảm giá
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:424:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\catchAsync.js:9:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:175:3)
[2025-04-27T16:42:45.616Z] [ERROR] GET /api/coupons/validate?code=HEALTH100&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-04-28T07:13:39.716Z] [ERROR] POST /api/medical-records/680b202d78b7aadb0a7afac7/attachments/multiple MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:21:59.610Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-28T07:21:59.775Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-28T07:25:41.209Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:26:03.277Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:28:48.290Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:31:33.636Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:31:49.949Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:10.383Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:20.302Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:24.147Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:28.376Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:30.454Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:33:49.766Z] [ERROR] POST /api/doctors/medical-records/680b202d78b7aadb0a7afac7/attachments MulterError: Field name missing
    at abortWithCode (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:73:22)
    at Multipart.<anonymous> (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\multer\lib\make-middleware.js:78:37)
    at Multipart.emit (node:events:518:28)
    at SBMH.ssCb [as _cb] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:537:16)
    at feed (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:219:14)
    at SBMH.push (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\streamsearch\lib\sbmh.js:104:16)
    at Multipart._write (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\busboy\lib\types\multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
[2025-04-28T07:45:12.976Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-28T07:45:13.141Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-28T07:59:26.999Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-04-28T07:59:27.150Z] [ERROR] GET /api/appointments/doctors/[object%20Object]/schedules Error: ID bác sĩ không hợp lệ
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\controllers\appointmentController.js:2125:17
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\utils\errorHandler.js:13:5
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\ACER\Desktop\DACS-hospitalweb\DACS-hospitalweb\server\node_modules\express\lib\router\index.js:421:3)
[2025-05-03T08:41:24.641Z] [ERROR] GET /api/coupons/validate?code=q&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T08:41:29.565Z] [ERROR] GET /api/coupons/validate?code=qq%C6%B0eq&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T10:40:38.366Z] [ERROR] GET /api/coupons/validate?code=%C3%A1d&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T10:40:39.401Z] [ERROR] GET /api/coupons/validate?code=%C3%A1dasd&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T15:01:37.559Z] [ERROR] PUT /api/admin/coupons/68162faf1776d7fdc1b37bbb Error: ID dịch vụ không hợp lệ
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:198:21
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T15:05:42.967Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-03T15:05:49.410Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-03T15:06:25.241Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-03T19:37:14.033Z] [ERROR] GET /api/coupons/validate?code=123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:14.110Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:14.273Z] [ERROR] GET /api/coupons/validate?code=12&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:14.548Z] [ERROR] GET /api/coupons/validate?code=123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:15.804Z] [ERROR] GET /api/coupons/validate?code=12&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:16.043Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:17.203Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:17.708Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:22.462Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:23.238Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:28.573Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:28.684Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:34.640Z] [ERROR] GET /api/coupons/validate?code=12&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:34.735Z] [ERROR] GET /api/coupons/validate?code=123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:34.830Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:34.943Z] [ERROR] GET /api/coupons/validate?code=1231&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:34.956Z] [ERROR] GET /api/coupons/validate?code=12312&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:35.373Z] [ERROR] GET /api/coupons/validate?code=123123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:35.900Z] [ERROR] GET /api/coupons/validate?code=123123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:38.044Z] [ERROR] GET /api/coupons/validate?code=12312&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:38.303Z] [ERROR] GET /api/coupons/validate?code=1231&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:38.358Z] [ERROR] GET /api/coupons/validate?code=1&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:38.633Z] [ERROR] GET /api/coupons/validate?code=12&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:37:38.928Z] [ERROR] GET /api/coupons/validate?code=123&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-03T19:45:46.740Z] [ERROR] GET /api/coupons/validate?code=qqqqqqq&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:531:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T07:59:49.633Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-10T07:59:55.017Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-10T18:10:11.931Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-10T18:49:04.666Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-10T18:49:19.516Z] [ERROR] GET /api/admin/coupons/680b202578b7aadb0a7af9b3 StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at model.Query._find (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2407:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async model.Query.exec (C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:63)
    at async C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:398:24
[2025-05-10T19:48:56.185Z] [ERROR] POST /api/coupons/validate Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:457:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T19:48:58.787Z] [ERROR] POST /api/coupons/validate Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:457:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T19:59:26.245Z] [ERROR] POST /api/coupons/validate Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:457:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:14:10.209Z] [ERROR] GET /api/coupons/validate?code=SONDZXc&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:537:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:14:13.717Z] [ERROR] GET /api/coupons/validate?code=SONDZXc&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:537:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:18:25.550Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:537:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:34:09.203Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d3 Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:554:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:34:15.033Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d3 Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:554:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:34:16.521Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d3 Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:554:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-10T20:40:46.164Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá này không áp dụng cho chuyên khoa đã chọn
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:570:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:29:59.238Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:30:02.668Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:30:10.626Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:31:47.758Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:31:52.120Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:32:13.219Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T12:32:52.360Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at C:\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-14T07:19:32.950Z] [ERROR] GET /api/coupons/validate?code=s&serviceId=680b201e78b7aadb0a7af5db&specialtyId=680b201e78b7aadb0a7af5d2 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\icon\DACS-hospitalweb - Copy fn\DACS-hospitalweb - Copy (3)\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-16T16:50:52.636Z] [ERROR] POST /api/admin/schedules SyntaxError: Expected ',' or ']' after array element in JSON at position 528 (line 14 column 3)
    at JSON.parse (<anonymous>)
    at parse (C:\DACS-hospitalweb\server\node_modules\body-parser\lib\types\json.js:92:19)
    at C:\DACS-hospitalweb\server\node_modules\body-parser\lib\read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
    at invokeCallback (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:238:16)
    at done (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:227:7)
    at IncomingMessage.onEnd (C:\DACS-hospitalweb\server\node_modules\raw-body\index.js:287:7)
    at IncomingMessage.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-05-16T16:57:07.809Z] [ERROR] GET /api/coupons/validate?code=WELCOME2023&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=650000 Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at C:\DACS-hospitalweb\server\controllers\couponController.js:554:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-21T15:41:59.318Z] [ERROR] GET /api/auth/google/callback?code=AQANS9bkKYbgRMxdvuX-iOQJnSTFWH8xbVeXLr_j9kGoERxttEKFsntziCQDt9RqjJvyIKZWvyVx475sxSkiQJigbk9SLudRV2YPRZCpUU4aGyhU0H0kC2NPuOuimCcFLkJtRjxjW0Qrlz0fz6Pv3UaRixa-6d-Qa1E0XAdvCuRDa4eUkgzAfUB5-HopcySNSUaNtGfjjdl1KtaYqrxPq_wi7sQoF3rBusMi6wm-p26TyySUMx2J68zEQi4wPPTzZz5Nzm1L8tzInbpN-5FW4lE2lkoH4ke8xA6EuBZ9PtmGHSb0-yTz3V7LAnJOPldwqS72X3cX5cpYB0QZWXwfqR9S-wrsl0om5vFz2rQ4axlQ_iLfsbIQKR9rS3Eggmo_k6g&scope= TokenError: Malformed auth code.
    at OAuth2Strategy.parseErrorResponse (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:373:12)
    at OAuth2Strategy._createOAuthError (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:420:16)
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:177:45
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:196:18
    at passBackControl (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:132:9)
    at IncomingMessage.<anonymous> (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:157:7)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-05-21T15:43:32.800Z] [ERROR] GET /api/auth/google/callback?code=AQDMX22MOQyZLAdF3xtjnwAhBmEwIB8kj3Ayagjro8F9gnP29ir_5y2vFMxMM0fEnDAUi-HZQCWDplkOOIocKk0cNzTbbq4nMAMxnejQLsKeJj314NgYjl2m3BXx9M_KGuuw7sLGBmM5vSFM4lijYb051wtbLwJH0JDFEimxawldu7M9n8yC3PanYtfEvHfZjeBFUtD7StwO_AOrKueW-3O3VXBYmAZmPkBatXG3Un0fem2Yp0QBrtTI--nS-v8j8c1ZoqLaB6KdFAeG26ZTM_C6U1ztNy6XQ1p0tNhlM4ccbB64AamNu-JacE06D388fG2lBMSBecRjkKQRAtjbMIfnLAFE_LeBK2PJiRM2_SPJr17qj-Mkg32Iv0lpMHP9uvk&scope= TokenError: Malformed auth code.
    at OAuth2Strategy.parseErrorResponse (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:373:12)
    at OAuth2Strategy._createOAuthError (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:420:16)
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:177:45
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:196:18
    at passBackControl (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:132:9)
    at IncomingMessage.<anonymous> (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:157:7)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-05-21T15:44:02.459Z] [ERROR] GET /api/auth/google/callback?code=AQA06-TV-kbRmxbn5F8qeqlMq0p0pZri2VahqAGPYqVheC4OYMwBMmySutYegA3Qz6OomnJE2rGpfSwVOJQCb410T29WST2nMCY_TNJyypeCVc59iyhgfBMA7dZ9kWvmy-yemL0sylamaDnV5WCaseLowVIf-xW8ENQHCYOtkJ0MNdWOwI2V-DSKLYlasOELpkMWO8dID_mos4clGzbeRHUK_vZRTPyX8bcuNFwQBi6BWqG33eWzs6Ag3rWEyAuV9PWy-zxsu_mVvalUVpzfeNdNskBGBsJxAEW-aRPh3s0VQZz2PEM8ATwVHShGJUHy-HZLAY__X3CqdtnB4Cc7m8FptVN8vcjihbXWEu1DJ3pVR_FnU5vaJXWGIt7-YrzA3CE&scope= TokenError: Malformed auth code.
    at OAuth2Strategy.parseErrorResponse (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:373:12)
    at OAuth2Strategy._createOAuthError (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:420:16)
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:177:45
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:196:18
    at passBackControl (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:132:9)
    at IncomingMessage.<anonymous> (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:157:7)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-05-21T15:45:27.963Z] [ERROR] GET /api/auth/google/callback?code=AQAybSrlvyX7_akSCvQPwmoZm_IIw0CKzkdt0X05uvPaSE7LsSPEZq-WaCCyvHjq4sUbnvU5v-0oOO850BTOq2cbtNNLFmzIYxbm-47BavFl9OHU2wgg7Y-yT3pDdNnp_w40oFKV8LE4cQOCzUExFHOcLO_GHsWYKjJdIeVxT6XnXV4OKYBjd0Wf2GpffL8U4t_3XGXckNvj3P3WnWsmcAZCeT5IRib6aBTh0a6lo2dukJvV5EI-95NoIJPlbPE85mVyY4su9Lsb9Dz3GOZtlILM-qz-c_ehuIB1Ton2gmKkX8maJGsHTpZkQ7QHzY1ZownrkbCzodhG-u91jfz7TkodYAO92GTX1Z9O3lae-TpYP0GvOvYwJ2JdElPb4_q4qgA&scope= TokenError: Malformed auth code.
    at OAuth2Strategy.parseErrorResponse (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:373:12)
    at OAuth2Strategy._createOAuthError (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:420:16)
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\passport-oauth2\lib\strategy.js:177:45
    at D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:196:18
    at passBackControl (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:132:9)
    at IncomingMessage.<anonymous> (D:\icon\New folder (2)\DACS-hospitalweb\server\node_modules\oauth\lib\oauth2.js:157:7)
    at IncomingMessage.emit (node:events:530:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
[2025-05-21T15:49:01.669Z] [ERROR] GET /api/coupons/validate?code=SONDZ&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=650000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\icon\New folder (2)\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-28T06:19:19.440Z] [ERROR] GET /api/coupons/validate?code=MONDAYSPECIAL&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=750000 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at D:\icon\New folder (2)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-29T08:48:06.895Z] [ERROR] GET /api/coupons/validate?code=MONDAYSPECIAL&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=750000 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at D:\icon\New folder (2)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-29T08:48:17.850Z] [ERROR] GET /api/coupons/validate?code=ELDERLY25V&serviceId=680b201e78b7aadb0a7af5dc&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=750000 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at D:\icon\New folder (2)\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-04T11:34:38.399Z] [ERROR] GET /api/coupons/validate?code=dau&serviceId=683329330cb264ab2d4339e0&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=2050000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-06-04T11:34:42.149Z] [ERROR] GET /api/coupons/validate?code=sondz&serviceId=683329330cb264ab2d4339e0&specialtyId=680b201e78b7aadb0a7af5d2&totalAmount=2050000 Error: Mã giảm giá đã hết hạn hoặc đã đạt giới hạn sử dụng
    at D:\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:539:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-27T07:53:23.570Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:204:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-27T07:53:23.949Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:204:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-27T08:30:43.068Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:204:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-27T08:30:43.184Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:204:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:35:34.445Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:35:34.621Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:35:37.492Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:35:37.640Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:37:22.508Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:37:22.652Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:212:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T04:37:24.329Z] [ERROR] POST /api/video-call/room/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền truy cập cuộc hẹn này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:29:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T10:17:48.868Z] [ERROR] POST /api/video-call/room/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền truy cập cuộc hẹn này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:29:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T10:18:12.608Z] [ERROR] POST /api/video-call/room/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền truy cập cuộc hẹn này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:29:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T10:18:17.230Z] [ERROR] POST /api/video-call/room/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền truy cập cuộc hẹn này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:29:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T10:18:30.688Z] [ERROR] POST /api/video-call/room/68d78c110fcec27c853c9c9e Error: Bạn không có quyền truy cập cuộc hẹn này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:29:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T15:40:32.351Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:221:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T15:40:32.496Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:221:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T15:40:34.453Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:221:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T15:40:40.072Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:221:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-09-28T15:40:48.322Z] [ERROR] GET /api/video-call/info/68d7971fe61707c2f3ac6a96 Error: Bạn không có quyền xem thông tin này
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:221:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-03T13:19:10.688Z] [ERROR] GET /api/video-call/info/68dfcd23e6b94a8d1790ee82 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:261:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-03T13:19:10.797Z] [ERROR] GET /api/video-call/info/68dfcd23e6b94a8d1790ee82 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:261:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-03T13:19:11.887Z] [ERROR] GET /api/video-call/info/68dfcd23e6b94a8d1790ee82 Error: Không tìm thấy thông tin video call
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:261:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-04T08:24:47.930Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
    at Object.createModelAndInit (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\queryHelpers.js:119:12)
    at completeOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3253:11)
    at Query._completeOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2601:3)
[2025-10-04T08:25:28.314Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token StrictPopulateError: Cannot populate path `patient` because it is not in your schema. Set the `strictPopulate` option to false to override.
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:50:12)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
    at Object.createModelAndInit (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\queryHelpers.js:119:12)
    at completeOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3253:11)
    at Query._completeOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2601:3)
[2025-10-05T04:17:37.412Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token Error: Role không hợp lệ
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoCallController.js:412:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-05T05:36:24.832Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token MissingSchemaError: Schema hasn't been registered for model "fullName email".
Use mongoose.model(name, schema)
    at NativeConnection.model (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\connection.js:1491:13)
    at _getModelFromConn (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:579:15)
    at addModelNamesToMap (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:507:17)
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:208:7)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
[2025-10-05T05:52:28.558Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token MissingSchemaError: Schema hasn't been registered for model "fullName email".
Use mongoose.model(name, schema)
    at NativeConnection.model (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\connection.js:1491:13)
    at _getModelFromConn (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:579:15)
    at addModelNamesToMap (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:507:17)
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:208:7)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
[2025-10-05T06:19:33.906Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token MissingSchemaError: Schema hasn't been registered for model "fullName email".
Use mongoose.model(name, schema)
    at NativeConnection.model (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\connection.js:1491:13)
    at _getModelFromConn (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:579:15)
    at addModelNamesToMap (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:507:17)
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:208:7)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
[2025-10-05T06:39:17.926Z] [ERROR] GET /api/video-call/appointment/68d7971fe61707c2f3ac6a96/token MissingSchemaError: Schema hasn't been registered for model "fullName email".
Use mongoose.model(name, schema)
    at NativeConnection.model (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\connection.js:1491:13)
    at _getModelFromConn (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:579:15)
    at addModelNamesToMap (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:507:17)
    at getModelsMapForPopulate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\helpers\populate\getModelsMapForPopulate.js:208:7)
    at _populatePath (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4446:21)
    at Function.populate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:4413:21)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2605:11
    at _init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:3275:5)
    at Document.init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:654:5)
    at Document.$init (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:667:42)
[2025-10-10T06:43:03.755Z] [ERROR] GET /api/video-rooms/join/68e8aaf7a8c77fc200c7f46b TypeError: Cannot read properties of null (reading '_id')
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:126:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-10T06:43:03.917Z] [ERROR] GET /api/video-rooms/join/68e8aaf7a8c77fc200c7f46b TypeError: Cannot read properties of null (reading '_id')
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:126:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-10T06:43:28.150Z] [ERROR] GET /api/video-rooms/join/68e8ab0fa8c77fc200c7f4b7 TypeError: Cannot read properties of null (reading '_id')
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:126:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-10T06:43:28.308Z] [ERROR] GET /api/video-rooms/join/68e8ab0fa8c77fc200c7f4b7 TypeError: Cannot read properties of null (reading '_id')
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:126:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-25T18:29:25.836Z] [ERROR] POST /api/video-rooms/68fd157ca38455be9646777d/leave ValidationError: VideoRoom validation failed: participants.0.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:35:12.478Z] [ERROR] POST /api/video-rooms/68fda500ea54531755267a58/leave ValidationError: VideoRoom validation failed: participants.0.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:35:26.283Z] [ERROR] POST /api/video-rooms/68fda500ea54531755267a58/leave ValidationError: VideoRoom validation failed: participants.1.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:35:54.732Z] [ERROR] POST /api/video-rooms/68fda529ea54531755267b01/leave ValidationError: VideoRoom validation failed: participants.0.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:41:34.908Z] [ERROR] POST /api/video-rooms/68fda67eea54531755267dc9/leave ValidationError: VideoRoom validation failed: participants.0.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:42:10.412Z] [ERROR] POST /api/video-rooms/68fda6a1ea54531755267ed8/leave ValidationError: VideoRoom validation failed: participants.2.role: `user` is not a valid enum value for path `role`.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at Subdocument.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\subdocument.js:229:12)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-26T04:42:10.548Z] [ERROR] POST /api/video-rooms/68fda6a1ea54531755267ed8/leave VersionError: No matching document found for id "68fda6a1ea54531755267ed8" version 2 modifiedPaths "participants, participants.0, participants.0.leftAt"
    at generateVersionError (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:572:10)
    at model.save (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:630:28)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:452:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-26T05:02:26.455Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:03:10.393Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:03:52.186Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:00.024Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:03.888Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:04.043Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:09.296Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:23.319Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/end RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:23.511Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:37.179Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:41.178Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:04:41.335Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T05:17:24.323Z] [ERROR] POST /api/video-rooms/68fdab629ca40d90c04a117c/leave VersionError: No matching document found for id "68fdab629ca40d90c04a117c" version 3 modifiedPaths "status, endTime, duration, participants, participants.1, participants.1.leftAt, participants.2, participants.2.leftAt"
    at generateVersionError (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:572:10)
    at model.save (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:630:28)
    at finalizeVideoRoom (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:87:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:539:5
[2025-10-26T07:35:59.226Z] [ERROR] POST /api/video-rooms/68fdcf3e783a1141b2c77b8f/end RangeError: Maximum call stack size exceeded
    at ObjectId.get (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\types\objectid.js:24:16)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:13)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
    at normalizeId (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:12:25)
[2025-10-26T07:45:05.240Z] [ERROR] POST /api/video-rooms/68fdcf3e783a1141b2c77b8f/leave VersionError: No matching document found for id "68fdcf3e783a1141b2c77b8f" version 2 modifiedPaths "status, endTime, duration, participants, participants.1, participants.1.leftAt"
    at generateVersionError (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:572:10)
    at model.save (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:630:28)
    at finalizeVideoRoom (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:79:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:533:5
[2025-10-29T15:51:04.431Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/end CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:469:21
[2025-10-29T15:51:04.503Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/leave CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:534:21
[2025-10-29T15:51:08.075Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/end CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:469:21
[2025-10-29T15:51:08.190Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/leave CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:534:21
[2025-10-29T15:51:29.090Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/leave CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:534:21
[2025-10-29T15:51:42.815Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/leave CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:534:21
[2025-10-29T15:56:01.730Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/end CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:469:21
[2025-10-29T15:56:09.995Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/end CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:469:21
[2025-10-29T15:56:59.015Z] [ERROR] POST /api/video-rooms/meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870/end CastError: Cast to ObjectId failed for value "meeting_68fd980ddcfa11c6c0b3e6e3_1761752492870" (type string) at path "_id" for model "VideoRoom"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:469:21
[2025-10-30T17:37:11.519Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:37:11.636Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:42:06.550Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:42:06.664Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:46:44.364Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:46:44.477Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:57:45.230Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T17:57:45.342Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T18:00:13.570Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-30T18:00:13.683Z] [ERROR] GET /api/billing/appointment/68fda30dea54531755267648 ValidationError: Bill validation failed: billNumber: Path `billNumber` is required.
    at Document.invalidate (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3329:32)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\document.js:3090:17
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
[2025-10-31T06:47:31.542Z] [ERROR] GET /api/hospitalizations/[object%20Object] CastError: Cast to ObjectId failed for value "[object Object]" (type string) at path "_id" for model "Hospitalization"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\hospitalizationController.js:505:27
[2025-10-31T07:18:45.720Z] [ERROR] GET /api/coupons/validate?code=aaaa&serviceId=68fd980bdcfa11c6c0b3e6ca&specialtyId=68fd980bdcfa11c6c0b3e6c1&totalAmount=800000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-31T07:18:56.515Z] [ERROR] GET /api/coupons/validate?code=aaaaaaaa&serviceId=68fd980bdcfa11c6c0b3e6ca&specialtyId=68fd980bdcfa11c6c0b3e6c1&totalAmount=800000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-10-31T14:41:58.770Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-10-31T14:41:58.820Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-10-31T15:56:16.078Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-10-31T15:56:16.137Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:10.110Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:10.152Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:14.890Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:14.932Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:56.405Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:34:56.450Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:35:25.221Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:35:25.264Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:38:00.245Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-01T12:38:00.291Z] [ERROR] GET /api/billing/payment-history?page=1&limit=10&status=all&method=all&date=&search= CastError: Cast to ObjectId failed for value "payment-history" (type string) at path "_id" for model "Bill"
    at SchemaObjectId.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schema\objectId.js:251:11)
    at SchemaType.applySetters (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1255:12)
    at SchemaType.castForQuery (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\schemaType.js:1673:17)
    at cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\cast.js:390:32)
    at Query.cast (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4907:12)
    at Query._castConditions (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2325:10)
    at model.Query._findOne (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:2648:8)
    at model.Query.exec (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\query.js:4456:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\billingController.js:500:16
[2025-11-04T15:29:17.689Z] [ERROR] GET /api/coupons/validate?code=aaaaaaaaaa&serviceId=69076f0e17d2824ecc362b47&specialtyId=69076f0e17d2824ecc362b3d&totalAmount=700000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-11-04T15:45:43.900Z] [ERROR] GET /api/coupons/validate?code=aaaa&serviceId=69076f0e17d2824ecc362b46&specialtyId=69076f0e17d2824ecc362b3d&totalAmount=800000 Error: Mã giảm giá không hợp lệ hoặc không tồn tại
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:534:17
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-11-07T14:56:52.858Z] [ERROR] GET /api/coupons/validate?code=SONDZ&serviceId=69076f0e17d2824ecc362b46&specialtyId=69076f0e17d2824ecc362b3d&totalAmount=800000 Error: Mã giảm giá này không áp dụng cho dịch vụ đã chọn
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\couponController.js:554:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-11-07T16:38:42.353Z] [ERROR] POST /api/video-rooms/690e208f4e19bb2a202c473c/leave VersionError: No matching document found for id "690e208f4e19bb2a202c473c" version 1 modifiedPaths "participants, participants.0, participants.0.leftAt"
    at generateVersionError (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:572:10)
    at model.save (D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\node_modules\mongoose\lib\model.js:630:28)
    at D:\DACS\icon\New folder (2)\DACS-hospitalwebfn\DACS-hospitalweb\server\controllers\videoRoomController.js:617:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
